(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(56),c=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,155)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),l(e),c(e)})},o=a(45),i=a(16),s=(a(55),a(142)),u=a(75),d=a.n(u),m=a(76),f=a.n(m),v=a(35),E=a(62),p=a.n(E),b=a(151),h=a(152),y=function(e){var t=e.addNewVideo,a=Object(n.useState)(!1),l=Object(i.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(""),d=Object(i.a)(u,2),m=d[0],f=d[1],E=Object(n.useState)(""),y=Object(i.a)(E,2),g=y[0],N=y[1],j=Object(n.useState)(!1),w=Object(i.a)(j,2),O=w[0],C=w[1],S=Object(n.useState)(!1),k=Object(i.a)(S,2),T=k[0],F=k[1],D=Object(n.useState)(!1),U=Object(i.a)(D,2),A=U[0],L=U[1],I=function(){o(!1),C(!1),F(!1),f(""),N("")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{className:"add-button",variant:"contained",color:"primary",onClick:function(){return o(!0)}},"Add Video \xa0",r.a.createElement(p.a,null)),r.a.createElement(v.a,{className:"modal",show:c,onHide:I,backdrop:"static",keyboard:!1},r.a.createElement(v.a.Header,{closeButton:!0},r.a.createElement(v.a.Title,null,"Video Uploader Modal")),r.a.createElement(v.a.Body,{className:"modal-fullscreen-lg-down modal-body"},"Please enter a title and a valid url of a YouTube video",r.a.createElement(h.a,{className:O?"alert-failure":"d-none",severity:"error",onClose:function(){return C(!1)}},"Failure! \u2014 Title field should not be empty!"),r.a.createElement(b.a,{className:"modal-content modal-text",autoFocus:!0,margin:"dense",id:"title",label:"Title",type:"text",style:{color:"red"},fullWidth:!0,onChange:function(e){C(!1),f(e.target.value)},value:m}),r.a.createElement(h.a,{className:T?"alert":"d-none",severity:"error",onClose:function(){return F(!1)}},"Failure! \u2014 A URL field can not be empty!"),r.a.createElement(h.a,{className:A?"alert":"d-none",severity:"error",onClose:function(){return L(!1)}},"Failure! \u2014 Invalid URL!"),r.a.createElement(b.a,{className:"modal-content modal-text",margin:"dense",id:"url",label:"URL",type:"url",fullWidth:!0,onChange:function(e){F(!1),N(e.target.value)},value:g})),r.a.createElement(v.a.Footer,null,r.a.createElement("div",{className:"upload-and-cancel-buttons"},r.a.createElement(s.a,{type:"cancel",className:"cancel-button",variant:"contained",color:"default",onClick:I},"Cancel"),r.a.createElement(s.a,{onClick:function(e){e.preventDefault();var a=g.match(/^(?:https?:\/\/)?(?:m\.|www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/);""===m&&c?C(!0):""===g&&c?F(!0):a?""!==m&&""!==g&&a&&t(m,g):L(!0);var n={title:m,url:g};fetch("/api",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return console.log(e)}),""!==m&&""!==g&&a&&(f(""),N(""),o(!1))},type:"submit",className:"submit-btn",variant:"contained",color:"primary"},"Upload")))))},g=function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"Video Recommendation"))},N=function(e){var t=e.stateUpdater,a=e.videos,l=Object(n.useState)(""),c=Object(i.a)(l,2),o=c[0],s=c[1];return r.a.createElement("div",{key:"input-form",className:"search-input-wrapper"},r.a.createElement("input",{key:"search-input",type:"text",className:"search-bar",placeholder:"Search for a video ...",value:o,onChange:function(e){s(e.target.value.toLowerCase());var n=a.filter(function(e){return e.title.toLowerCase().includes(o)});t(n),""===e.target.value&&t(a)}}),r.a.createElement("i",{key:"fasIcon",className:"fas fa-search"}))},j=function(e){var t=e.title;return r.a.createElement("h2",{key:t,className:"video-title"},t)},w=function(e){var t=e.id,a=new Date,n=a.getDate()+"-"+(a.getMonth()+1)+"-"+a.getFullYear();return console.log(n),r.a.createElement("iframe",{className:"embedded-video",width:"100%",height:"215",src:"https://www.youtube.com/embed/"+t,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})},O=a(77),C=a(63),S=a.n(C),k=a(64),T=a.n(k),F=function(e){var t=e.video,a=e.videos,n=e.vote,l=e.rating,c=e.stateUpdater,i=function(e,t){var n=Object(O.a)({},e,{rating:t}),r=Object(o.a)(a),l=r.findIndex(function(t){return t.id===e.id});r[l]=n;var i=n;return fetch("/api",{method:"PATCH",headers:{"Content-Type":"application/json","Field-Name":"Accept-Patch"},body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}),c(r)};return r.a.createElement("div",{className:"votes-container"},r.a.createElement(S.a,{onClick:function(){return i(t,l+1)},className:"like",fontSize:"large",variant:"contained"}),r.a.createElement("h3",{className:"votes"},"Votes: ",n),r.a.createElement(T.a,{onClick:function(){return i(t,l-1)},className:"dislike",fontSize:"large",variant:"contained"}))},D=a(154),U=a(150),A=a(148),L=a(149),I=a(147),R=a(49),V=a.n(R),x=function(e){var t=e.id,a=e.videoRemover,l=e.title,c=Object(n.useState)(!1),o=Object(i.a)(c,2),u=o[0],d=o[1],m=function(){d(!1)};return r.a.createElement("div",{className:"delete-button-container"},r.a.createElement("div",null,r.a.createElement(s.a,{variant:"contained",color:"secondary",className:"delete-button",startIcon:r.a.createElement(V.a,null),onClick:function(){d(!0)}},"Delete")),r.a.createElement(D.a,{open:u,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(I.a,{className:"alert-primary delete-dialog",id:"alert-dialog-title"},"Are you sure you want to delete this video?"),r.a.createElement(A.a,{className:"alert-primary dialog-content"},r.a.createElement(L.a,{"aria-labelledby":"alert-dialog-title",id:"alert-dialog-description"},"The video: '",l,"' will be permanently removed from our database. ",r.a.createElement("br",null),"Of course, you can add it later if you change your mind. However, the video will lose all of it's votes it has had so far as votes for newly added videos starts from 0.")),r.a.createElement(U.a,{className:"alert-primary dialog-content"},r.a.createElement(s.a,{onClick:m,variant:"outlined",color:"primary"},"Cancel"),r.a.createElement(s.a,{id:t,onClick:function(){a(t),d(!1)},variant:"outlined",color:"secondary",startIcon:r.a.createElement(V.a,null)},"Delete"))))},B=a(65),P=a.n(B),Y=a(66),H=a.n(Y),J=a(67),W=a.n(J),z=a(68),M=a.n(z),$=a(69),q=a.n($),G=a(70),K=a.n(G),Q=a(71),X=a.n(Q),Z=a(72),_=a.n(Z),ee=a(73),te=a.n(ee),ae=a(74),ne=a.n(ae),re=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-inner-div"},r.a.createElement(P.a,null),r.a.createElement(H.a,null),r.a.createElement(W.a,null),r.a.createElement(M.a,null),r.a.createElement(q.a,null),r.a.createElement(K.a,null),r.a.createElement(X.a,null),r.a.createElement(_.a,null),r.a.createElement(te.a,null),r.a.createElement(ne.a,null)))},le=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),u=Object(i.a)(c,2),m=u[0],v=u[1],E=Object(n.useState)(!1),p=Object(i.a)(E,2),b=p[0],O=p[1],C=Object(n.useState)(!1),S=Object(i.a)(C,2),k=S[0],T=S[1];console.log(new Date),Object(n.useEffect)(function(){fetch("/api").then(function(e){return e.json()}).then(function(e){l(e),v(e)}).catch(function(e){return console.error(e)})},[]);var D=function(e){var t=a.filter(function(t){return t.id!==e});l(t),T(!0),setTimeout(function(){T(!1)},5e3),fetch("/api/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})},U=function(e){return l(e)};return r.a.createElement("div",{key:"mainWrapper"},r.a.createElement("div",{className:"App-header"},r.a.createElement(g,null),r.a.createElement(N,{stateUpdater:U,videos:m})),r.a.createElement("div",{className:b?"success-alert":"d-none"},r.a.createElement(h.a,{className:"alert-success",onClose:function(){return O(!1)}},"Success! \u2014 Your videos is successfully uploaded!")),r.a.createElement("div",{className:k?"success-alert":"d-none"},r.a.createElement(h.a,{className:"alert-success",onClose:function(){return T(!1)}},"Success! \u2014 Your videos is successfully deleted!")),r.a.createElement("div",{className:"main-buttons-outer-container"},r.a.createElement("div",{className:"main-buttons"},r.a.createElement("div",{className:"asc-desc-order"},r.a.createElement("p",{className:"order-by"},"Order By Votes:\xa0"),r.a.createElement(s.a,{className:"",onClick:function(){fetch("/api/?order=asc").then(function(e){return e.json()}).then(function(e){l(e)}).catch(function(e){return console.log(e)})},variant:"contained",color:"primary"},"Asc \xa0",r.a.createElement(d.a,null)),r.a.createElement(s.a,{className:"",onClick:function(){fetch("/api/?order=desc").then(function(e){return e.json()}).then(function(e){l(e)}).catch(function(e){return console.log(e)})},variant:"contained",color:"primary"},"Desc \xa0",r.a.createElement(f.a,null))),r.a.createElement(y,{className:"upload-button",addNewVideo:function(e,t){var n=a;return n=[{id:Date.now(),title:e,url:t,rating:0,posted:(new Date).toString()}].concat(Object(o.a)(n)),O(!0),setTimeout(function(){O(!1)},5e3),l(n)}}))),r.a.createElement("div",{key:"displayWrapper",className:"main-container"},a.map(function(e,t){var n=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==t[7].length)&&t[7]}(e.url);return r.a.createElement("div",{key:t,className:"video-and-details-wrapper"},r.a.createElement(j,{title:e.title}),r.a.createElement(w,{id:n}),r.a.createElement("div",{className:"vote-and-delete"},r.a.createElement(F,{vote:e.rating,video:e,videos:a,rating:e.rating,stateUpdater:U}),r.a.createElement(x,{id:e.id,videoRemover:D,title:e.title})))})),r.a.createElement(re,null))};a(104);var ce=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(le,null))};a(105);function oe(){return Object(n.useEffect)(function(){console.log("rendered")}),r.a.createElement(ce,{tab:"home"})}var ie=document.getElementById("root");l.createRoot(ie).render(r.a.createElement(oe,null)),c(console.log)},89:function(e,t,a){e.exports=a(106)}},[[89,1,2]]]);
//# sourceMappingURL=main.ecb4dec1.chunk.js.map